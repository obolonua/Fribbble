<body>

<head>
  <title>Edit picture</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='edit.css') }}">
</head>



  <div class="form-container">
    <h1>Edit picture</h1>

    <img src="{{ picture.image_path }}" alt="{{ picture.title }}" class="preview-image" />

    <form action="/update_picture" method="post" enctype="multipart/form-data">
      <p>
        <label for="name">Picture title:</label><br />
        <input
          type="text"
          id="name"
          name="name"
          value="{{ picture.title }}"
          required
          maxlength="50"
        />
      </p>

      <p>
        <label for="description">Description:</label><br />
        <textarea
          id="description"
          name="description"
          rows="8"
          required
          maxlength="1000"
        >{{ picture.description }}</textarea>
      </p>



      <p>
        <label for="picture">Upload new picture:</label><br />
        <input
          type="file"
          id="picture"
          name="picture"
          accept="image/*"
          required
        />
      </p>
      {% for class in all_classes %}
        <p>
          <label for="class{{ class }}">{{ class }}</a>: <br />
            <select name="style">
              {% for option in all_classes[class] %}
                {% if classes[class] == option %}
                <option value="{{ class }}:{{ option }}" selected>{{ option }}</option>
                {% else %}
                <option value="{{ class }}:{{ option }}">{{ option }}</option>
                {% endif %}
                {% endfor %}
            </select> 
        </p>
      {% endfor %}

      <!-- Hidden fields -->
      <input type="hidden" name="picture_id" value="{{ picture.id }}" />
      <input type="hidden" name="user_id" value="{{ picture.user_id }}" />
      <input type="hidden" name="csrf_token" value="{{ session.csrf_token }}" />

      <input type="submit" value="Save Changes" />
    </form>
  </div>
</body>
